function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,a){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=a},unregisterPluginElement:function(e){delete this.pluginMediaElements[e],delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],a=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,a)}},fireEvent:function(e,t,a){var i,n,r,l=this.pluginMediaElements[e];if(l){i={type:t,target:l};for(n in a)l[n]=a[n],i[n]=a[n];r=a.bufferedTime||0,i.target.buffered=i.buffered={start:function(){return 0},end:function(){return r},length:1},l.dispatchEvent(i.type,i)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var a,i,n=mejs.MediaElementDefaults,r="string"==typeof e?document.getElementById(e):e,l=r.tagName.toLowerCase(),s="audio"===l||"video"===l,u=s?r.getAttribute("src"):r.getAttribute("href"),o=r.getAttribute("poster"),d=r.getAttribute("autoplay"),m=r.getAttribute("preload"),p=r.getAttribute("controls");for(i in t)n[i]=t[i];return u="undefined"==typeof u||null===u||""==u?null:u,o="undefined"==typeof o||null===o?"":o,m="undefined"==typeof m||null===m||"false"===m?"none":m,d=!("undefined"==typeof d||null===d||"false"===d),p=!("undefined"==typeof p||null===p||"false"===p),a=this.determinePlayback(r,n,mejs.MediaFeatures.supportsMediaTag,s,u),a.url=null!==a.url?mejs.Utility.absolutizeUrl(a.url):"","native"==a.method?(mejs.MediaFeatures.isBustedAndroid&&(r.src=a.url,r.addEventListener("click",function(){r.play()},!1)),this.updateNative(a,n,d,m)):""!==a.method?this.createPlugin(a,n,o,d,m,p):(this.createErrorMessage(a,n,o),this)},determinePlayback:function(e,t,a,i,n){var r,l,s,u,o,d,m,p,c,h,g,f=[],y={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};if("undefined"!=typeof t.type&&""!==t.type)if("string"==typeof t.type)f.push({type:t.type,url:n});else for(r=0;r<t.type.length;r++)f.push({type:t.type[r],url:n});else if(null!==n)d=this.formatType(n,e.getAttribute("type")),f.push({type:d,url:n});else for(r=0;r<e.childNodes.length;r++)o=e.childNodes[r],1==o.nodeType&&"source"==o.tagName.toLowerCase()&&(n=o.getAttribute("src"),d=this.formatType(n,o.getAttribute("type")),g=o.getAttribute("media"),(!g||!window.matchMedia||window.matchMedia&&window.matchMedia(g).matches)&&f.push({type:d,url:n}));if(!i&&f.length>0&&null!==f[0].url&&this.getTypeFromFile(f[0].url).indexOf("audio")>-1&&(y.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),!(!a||"auto"!==t.mode&&"auto_plugin"!==t.mode&&"native"!==t.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===!0)){for(i||(h=document.createElement(y.isVideo?"video":"audio"),e.parentNode.insertBefore(h,e),e.style.display="none",y.htmlMediaElement=e=h),r=0;r<f.length;r++)if(""!==e.canPlayType(f[r].type).replace(/no/,"")||""!==e.canPlayType(f[r].type.replace(/mp3/,"mpeg")).replace(/no/,"")){y.method="native",y.url=f[r].url;break}if("native"===y.method&&(null!==y.url&&(e.src=y.url),"auto_plugin"!==t.mode))return y}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(r=0;r<f.length;r++)for(d=f[r].type,l=0;l<t.plugins.length;l++)for(m=t.plugins[l],p=mejs.plugins[m],s=0;s<p.length;s++)if(c=p[s],null==c.version||mejs.PluginDetector.hasPluginVersion(m,c.version))for(u=0;u<c.types.length;u++)if(d==c.types[u])return y.method=m,y.url=f[r].url,y;return"auto_plugin"===t.mode&&"native"===y.method?y:(""===y.method&&f.length>0&&(y.url=f[0].url),y)},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,a){var i=e.htmlMediaElement,n=document.createElement("div");n.className="me-cannotplay";try{n.style.width=i.width+"px",n.style.height=i.height+"px"}catch(r){}n.innerHTML=t.customError?t.customError:""!==a?'<a href="'+e.url+'"><img src="'+a+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",i.parentNode.insertBefore(n,i),i.style.display="none",t.error(i)},createPlugin:function(e,t,a,i,n,r){var l,s,u,o=e.htmlMediaElement,d=1,m=1,p="me_"+e.method+"_"+mejs.meIndex++,c=new mejs.PluginMediaElement(p,e.method,e.url),h=document.createElement("div");c.tagName=o.tagName;for(var g=0;g<o.attributes.length;g++){var f=o.attributes[g];1==f.specified&&c.setAttribute(f.name,f.value)}for(s=o.parentNode;null!==s&&"body"!=s.tagName.toLowerCase();){if("p"==s.parentNode.tagName.toLowerCase()){s.parentNode.parentNode.insertBefore(s,s.parentNode);break}s=s.parentNode}switch(e.isVideo?(d=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==o.getAttribute("width")?o.getAttribute("width"):t.defaultVideoWidth,m=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==o.getAttribute("height")?o.getAttribute("height"):t.defaultVideoHeight,d=mejs.Utility.encodeUrl(d),m=mejs.Utility.encodeUrl(m)):t.enablePluginDebug&&(d=320,m=240),c.success=t.success,mejs.MediaPluginBridge.registerPluginElement(p,c,o),h.className="me-plugin",h.id=p+"_container",e.isVideo?o.parentNode.insertBefore(h,o):document.body.insertBefore(h,document.body.childNodes[0]),u=["id="+p,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(i?"true":"false"),"preload="+n,"width="+d,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+m,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?u.push("file="+mejs.Utility.encodeUrl(e.url)):u.push("file="+e.url)),t.enablePluginDebug&&u.push("debug=true"),t.enablePluginSmoothing&&u.push("smoothing=true"),t.enablePseudoStreaming&&u.push("pseudostreaming=true"),r&&u.push("controls=true"),t.pluginVars&&(u=u.concat(t.pluginVars)),e.method){case"silverlight":h.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+p+'" name="'+p+'" width="'+d+'" height="'+m+'" class="mejs-shim"><param name="initParams" value="'+u.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(l=document.createElement("div"),h.appendChild(l),l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+p+'" width="'+d+'" height="'+m+'" class="mejs-shim"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+u.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):h.innerHTML='<embed id="'+p+'" name="'+p+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+u.join("&")+'" width="'+d+'" height="'+m+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var y=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:h,containerId:h.id,pluginMediaElement:c,pluginId:p,videoId:y,height:m,width:d},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":c.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),h.innerHTML='<iframe src="http://player.vimeo.com/video/'+c.vimeoid+'?portrait=0&byline=0&title=0" width="'+d+'" height="'+m+'" frameborder="0" class="mejs-shim"></iframe>'}return o.style.display="none",o.removeAttribute("autoplay"),c},updateNative:function(e,t){var a,i=e.htmlMediaElement;for(a in mejs.HtmlMediaElement)i[a]=mejs.HtmlMediaElement[a];return t.success(i,i),i}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,a=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=a,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(a,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,a,t)}}})},createEvent:function(e,t,a){var i={type:a,target:t};if(e&&e.getDuration){t.currentTime=i.currentTime=e.getCurrentTime(),t.duration=i.duration=e.getDuration(),i.paused=t.paused,i.ended=t.ended,i.muted=e.isMuted(),i.volume=e.getVolume()/100,i.bytesTotal=e.getVideoBytesTotal(),i.bufferedBytes=e.getVideoBytesLoaded();var n=i.bufferedBytes/i.bytesTotal*i.duration;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return n},length:1}}t.dispatchEvent(i.type,i)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,a="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim"><param name="movie" value="'+a+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+a+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],a=document.getElementById(e),i=t.pluginMediaElement;i.pluginApi=i.pluginElement=a,mejs.MediaPluginBridge.initPlugin(e),a.cueVideoById(t.videoId);var n=t.containerId+"_callback";window[n]=function(e){mejs.YouTubeApi.handleStateChange(e,a,i)},a.addEventListener("onStateChange",n),setInterval(function(){mejs.YouTubeApi.createEvent(a,i,"timeupdate")},250)},handleStateChange:function(e,t,a){switch(e){case-1:a.paused=!0,a.ended=!0,mejs.YouTubeApi.createEvent(t,a,"loadedmetadata");break;case 0:a.paused=!1,a.ended=!0,mejs.YouTubeApi.createEvent(t,a,"ended");break;case 1:a.paused=!1,a.ended=!1,mejs.YouTubeApi.createEvent(t,a,"play"),mejs.YouTubeApi.createEvent(t,a,"playing");break;case 2:a.paused=!0,a.ended=!1,mejs.YouTubeApi.createEvent(t,a,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,a,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement;