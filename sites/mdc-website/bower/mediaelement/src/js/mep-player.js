!function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,i){i.paused||i.ended?e.play():e.pause()}},{keys:[38],action:function(e,i){var t=Math.min(i.volume+.1,1);i.setVolume(t)}},{keys:[40],action:function(e,i){var t=Math.max(i.volume-.1,0);i.setVolume(t)}},{keys:[37,227],action:function(e,i){if(!isNaN(i.duration)&&i.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var t=Math.max(i.currentTime-e.options.defaultSeekBackwardInterval(i),0);i.setCurrentTime(t)}}},{keys:[39,228],action:function(e,i){if(!isNaN(i.duration)&&i.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var t=Math.min(i.currentTime+e.options.defaultSeekForwardInterval(i),i.duration);i.setCurrentTime(t)}}},{keys:[70],action:function(e){"undefined"!=typeof e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(i,t){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(i,t);var o=this;return o.$media=o.$node=e(i),o.node=o.media=o.$media[0],"undefined"!=typeof o.node.player?o.node.player:(o.node.player=o,"undefined"==typeof t&&(t=o.$node.data("mejsoptions")),o.options=e.extend({},mejs.MepDefaults,t),o.id="mep_"+mejs.mepIndex++,mejs.players[o.id]=o,o.init(),o)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var i=this,t=mejs.MediaFeatures,o=e.extend(!0,{},i.options,{success:function(e,t){i.meReady(e,t)},error:function(e){i.handleError(e)}}),n=i.media.tagName.toLowerCase();if(i.isDynamic="audio"!==n&&"video"!==n,i.isVideo=i.isDynamic?i.options.isVideo:"audio"!==n&&i.options.isVideo,t.isiPad&&i.options.iPadUseNativeControls||t.isiPhone&&i.options.iPhoneUseNativeControls)i.$media.attr("controls","controls"),t.isiPad&&null!==i.media.getAttribute("autoplay")&&i.play();else if(t.isAndroid&&i.options.AndroidUseNativeControls);else{if(i.$media.removeAttr("controls"),i.container=e('<div id="'+i.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(i.$media[0].className).insertBefore(i.$media),i.container.addClass((t.isAndroid?"mejs-android ":"")+(t.isiOS?"mejs-ios ":"")+(t.isiPad?"mejs-ipad ":"")+(t.isiPhone?"mejs-iphone ":"")+(i.isVideo?"mejs-video ":"mejs-audio ")),t.isiOS){var s=i.$media.clone();i.container.find(".mejs-mediaelement").append(s),i.$media.remove(),i.$node=i.$media=s,i.node=i.media=s[0]}else i.container.find(".mejs-mediaelement").append(i.$media);i.controls=i.container.find(".mejs-controls"),i.layers=i.container.find(".mejs-layers");var a=i.isVideo?"video":"audio",r=a.substring(0,1).toUpperCase()+a.substring(1);i.width=i.options[a+"Width"]>0||i.options[a+"Width"].toString().indexOf("%")>-1?i.options[a+"Width"]:""!==i.media.style.width&&null!==i.media.style.width?i.media.style.width:null!==i.media.getAttribute("width")?i.$media.attr("width"):i.options["default"+r+"Width"],i.height=i.options[a+"Height"]>0||i.options[a+"Height"].toString().indexOf("%")>-1?i.options[a+"Height"]:""!==i.media.style.height&&null!==i.media.style.height?i.media.style.height:null!==i.$media[0].getAttribute("height")?i.$media.attr("height"):i.options["default"+r+"Height"],i.setPlayerSize(i.width,i.height),o.pluginWidth=i.width,o.pluginHeight=i.height}mejs.MediaElement(i.$media[0],o),"undefined"!=typeof i.container&&i.controlsAreVisible&&i.container.trigger("controlsshown")},showControls:function(e){var i=this;e="undefined"==typeof e||e,i.controlsAreVisible||(e?(i.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){i.controlsAreVisible=!0,i.container.trigger("controlsshown")}),i.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){i.controlsAreVisible=!0})):(i.controls.css("visibility","visible").css("display","block"),i.container.find(".mejs-control").css("visibility","visible").css("display","block"),i.controlsAreVisible=!0,i.container.trigger("controlsshown")),i.setControlsSize())},hideControls:function(i){var t=this;i="undefined"==typeof i||i,t.controlsAreVisible&&!t.options.alwaysShowControls&&(i?(t.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")}),t.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(t.controls.css("visibility","hidden").css("display","block"),t.container.find(".mejs-control").css("visibility","hidden").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var i=this;e="undefined"!=typeof e?e:1500,i.killControlsTimer("start"),i.controlsTimer=setTimeout(function(){i.hideControls(),i.killControlsTimer("hide")},e)},killControlsTimer:function(){var e=this;null!==e.controlsTimer&&(clearTimeout(e.controlsTimer),delete e.controlsTimer,e.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},meReady:function(e,i){var t,o,n=this,s=mejs.MediaFeatures,a=i.getAttribute("autoplay"),r=!("undefined"==typeof a||null===a||"false"===a);if(!n.created){if(n.created=!0,n.media=e,n.domNode=i,!(s.isAndroid&&n.options.AndroidUseNativeControls||s.isiPad&&n.options.iPadUseNativeControls||s.isiPhone&&n.options.iPhoneUseNativeControls)){n.buildposter(n,n.controls,n.layers,n.media),n.buildkeyboard(n,n.controls,n.layers,n.media),n.buildoverlays(n,n.controls,n.layers,n.media),n.findTracks();for(t in n.options.features)if(o=n.options.features[t],n["build"+o])try{n["build"+o](n,n.controls,n.layers,n.media)}catch(d){}n.container.trigger("controlsready"),n.setPlayerSize(n.width,n.height),n.setControlsSize(),n.isVideo&&(mejs.MediaFeatures.hasTouch?n.$media.bind("touchstart",function(){n.controlsAreVisible?n.hideControls(!1):n.controlsEnabled&&n.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){n.options.clickToPlayPause&&(n.media.paused?n.play():n.pause())},n.media.addEventListener("click",n.clickToPlayPauseCallback,!1),n.container.bind("mouseenter mouseover",function(){n.controlsEnabled&&(n.options.alwaysShowControls||(n.killControlsTimer("enter"),n.showControls(),n.startControlsTimer(2500)))}).bind("mousemove",function(){n.controlsEnabled&&(n.controlsAreVisible||n.showControls(),n.options.alwaysShowControls||n.startControlsTimer(2500))}).bind("mouseleave",function(){n.controlsEnabled&&(n.media.paused||n.options.alwaysShowControls||n.startControlsTimer(1e3))})),n.options.hideVideoControlsOnLoad&&n.hideControls(!1),r&&!n.options.alwaysShowControls&&n.hideControls(),n.options.enableAutosize&&n.media.addEventListener("loadedmetadata",function(e){n.options.videoHeight<=0&&null===n.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(n.setPlayerSize(e.target.videoWidth,e.target.videoHeight),n.setControlsSize(),n.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){var e;for(e in mejs.players){var i=mejs.players[e];i.id==n.id||!n.options.pauseOtherPlayers||i.paused||i.ended||i.pause(),i.hasFocus=!1}n.hasFocus=!0},!1),n.media.addEventListener("ended",function(){if(n.options.autoRewind)try{n.media.setCurrentTime(0)}catch(e){}n.media.pause(),n.setProgressRail&&n.setProgressRail(),n.setCurrentRail&&n.setCurrentRail(),n.options.loop?n.play():!n.options.alwaysShowControls&&n.controlsEnabled&&n.showControls()},!1),n.media.addEventListener("loadedmetadata",function(){n.updateDuration&&n.updateDuration(),n.updateCurrent&&n.updateCurrent(),n.isFullScreen||(n.setPlayerSize(n.width,n.height),n.setControlsSize())},!1),setTimeout(function(){n.setPlayerSize(n.width,n.height),n.setControlsSize()},50),n.globalBind("resize",function(){n.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||n.setPlayerSize(n.width,n.height),n.setControlsSize()}),"youtube"==n.media.pluginType&&n.container.find(".mejs-overlay-play").hide()}r&&"native"==e.pluginType&&n.play(),n.options.success&&("string"==typeof n.options.success?window[n.options.success](n.media,n.domNode,n):n.options.success(n.media,n.domNode,n))}},handleError:function(e){var i=this;i.controls.hide(),i.options.error&&i.options.error(e)},setPlayerSize:function(i,t){var o=this;if("undefined"!=typeof i&&(o.width=i),"undefined"!=typeof t&&(o.height=t),o.height.toString().indexOf("%")>0||"100%"===o.$node.css("max-width")||parseInt(o.$node.css("max-width").replace(/px/,""),10)/o.$node.offsetParent().width()===1||o.$node[0].currentStyle&&"100%"===o.$node[0].currentStyle.maxWidth){var n=o.isVideo?o.media.videoWidth&&o.media.videoWidth>0?o.media.videoWidth:o.options.defaultVideoWidth:o.options.defaultAudioWidth,s=o.isVideo?o.media.videoHeight&&o.media.videoHeight>0?o.media.videoHeight:o.options.defaultVideoHeight:o.options.defaultAudioHeight,a=o.container.parent().closest(":visible").width(),r=o.isVideo||!o.options.autosizeProgress?parseInt(a*s/n,10):s;"body"===o.container.parent()[0].tagName.toLowerCase()&&(a=e(window).width(),r=e(window).height()),0!=r&&0!=a&&(o.container.width(a).height(r),o.$media.add(o.container.find(".mejs-shim")).width("100%").height("100%"),o.isVideo&&o.media.setVideoSize&&o.media.setVideoSize(a,r),o.layers.children(".mejs-layer").width("100%").height("100%"))}else o.container.width(o.width).height(o.height),o.layers.children(".mejs-layer").width(o.width).height(o.height);var d=o.layers.find(".mejs-overlay-play"),l=d.find(".mejs-overlay-button");d.height(o.container.height()-o.controls.height()),l.css("margin-top","-"+(l.height()/2-o.controls.height()/2).toString()+"px")},setControlsSize:function(){var i=this,t=0,o=0,n=i.controls.find(".mejs-time-rail"),s=i.controls.find(".mejs-time-total"),a=(i.controls.find(".mejs-time-current"),i.controls.find(".mejs-time-loaded"),n.siblings());i.options&&!i.options.autosizeProgress&&(o=parseInt(n.css("width"))),0!==o&&o||(a.each(function(){var i=e(this);"absolute"!=i.css("position")&&i.is(":visible")&&(t+=e(this).outerWidth(!0))}),o=i.controls.width()-t-(n.outerWidth(!0)-n.width())),n.width(o),s.width(o-(s.outerWidth(!0)-s.width())),i.setProgressRail&&i.setProgressRail(),i.setCurrentRail&&i.setCurrentRail()},buildposter:function(i,t,o,n){var s=this,a=e('<div class="mejs-poster mejs-layer"></div>').appendTo(o),r=i.$media.attr("poster");""!==i.options.poster&&(r=i.options.poster),""!==r&&null!=r?s.setPoster(r):a.hide(),n.addEventListener("play",function(){a.hide()},!1),i.options.showPosterWhenEnded&&i.options.autoRewind&&n.addEventListener("ended",function(){a.show()},!1)},setPoster:function(i){var t=this,o=t.container.find(".mejs-poster"),n=o.find("img");0==n.length&&(n=e('<img width="100%" height="100%" />').appendTo(o)),n.attr("src",i),o.css({"background-image":"url("+i+")"})},buildoverlays:function(i,t,o,n){var s=this;if(i.isVideo){var a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(o),r=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(o),d=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(o).bind("click touchstart",function(){s.options.clickToPlayPause&&n.paused&&s.play()});n.addEventListener("play",function(){d.hide(),a.hide(),t.find(".mejs-time-buffering").hide(),r.hide()},!1),n.addEventListener("playing",function(){d.hide(),a.hide(),t.find(".mejs-time-buffering").hide(),r.hide()},!1),n.addEventListener("seeking",function(){a.show(),t.find(".mejs-time-buffering").show()},!1),n.addEventListener("seeked",function(){a.hide(),t.find(".mejs-time-buffering").hide()},!1),n.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||d.show()},!1),n.addEventListener("waiting",function(){a.show(),t.find(".mejs-time-buffering").show()},!1),n.addEventListener("loadeddata",function(){a.show(),t.find(".mejs-time-buffering").show()},!1),n.addEventListener("canplay",function(){a.hide(),t.find(".mejs-time-buffering").hide()},!1),n.addEventListener("error",function(){a.hide(),t.find(".mejs-time-buffering").hide(),r.show(),r.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(i,t,o,n){var s=this;s.globalBind("keydown",function(e){if(i.hasFocus&&i.options.enableKeyboard)for(var t=0,o=i.options.keyActions.length;o>t;t++)for(var s=i.options.keyActions[t],a=0,r=s.keys.length;r>a;a++)if(e.keyCode==s.keys[a])return e.preventDefault(),s.action(i,n,e.keyCode),!1;return!0}),s.globalBind("click",function(t){0==e(t.target).closest(".mejs-container").length&&(i.hasFocus=!1)})},findTracks:function(){var i=this,t=i.$media.find("track");i.tracks=[],t.each(function(t,o){o=e(o),i.tracks.push({srclang:o.attr("srclang")?o.attr("srclang").toLowerCase():"",src:o.attr("src"),kind:o.attr("kind"),label:o.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,i,t=this;for(e in t.options.features)if(i=t.options.features[e],t["clean"+i])try{t["clean"+i](t)}catch(o){}t.isDynamic?t.$node.insertBefore(t.container):(t.$media.prop("controls",!0),t.$node.clone().show().insertBefore(t.container),t.$node.remove()),"native"!==t.media.pluginType&&t.media.remove(),delete mejs.players[t.id],t.container.remove(),t.globalUnbind(),delete t.node.player}},function(){function i(i,o){var n={d:[],w:[]};return e.each((i||"").split(" "),function(e,i){var s=i+"."+o;0===s.indexOf(".")?(n.d.push(s),n.w.push(s)):n[t.test(i)?"w":"d"].push(s)}),n.d=n.d.join(" "),n.w=n.w.join(" "),n}var t=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(t,o,n){var s=this;t=i(t,s.id),t.d&&e(document).bind(t.d,o,n),t.w&&e(window).bind(t.w,o,n)},mejs.MediaElementPlayer.prototype.globalUnbind=function(t,o){var n=this;t=i(t,n.id),t.d&&e(document).unbind(t.d,o),t.w&&e(window).unbind(t.w,o)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(e){return e===!1?this.each(function(){var e=jQuery(this).data("mediaelementplayer");e&&e.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))}),this}),e(document).ready(function(){e(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$);