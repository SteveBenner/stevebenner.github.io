!function(e){e.extend(mejs.MepDefaults,{sourcechooserText:"Source Chooser"}),e.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(o,s,c,r){var t=this;o.sourcechooserButton=e('<div class="mejs-button mejs-sourcechooser-button"><button type="button" aria-controls="'+t.id+'" title="'+t.options.sourcechooserText+'" aria-label="'+t.options.sourcechooserText+'"></button><div class="mejs-sourcechooser-selector"><ul></ul></div></div>').appendTo(s).hover(function(){e(this).find(".mejs-sourcechooser-selector").css("visibility","visible")},function(){e(this).find(".mejs-sourcechooser-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){src=this.value,r.currentSrc!=src&&(currentTime=r.currentTime,paused=r.paused,r.setSrc(src),r.load(),r.addEventListener("loadedmetadata",function(){this.currentTime=currentTime},!0),r.addEventListener("canplay",function(){paused||this.play()},!0))});for(i in r.children)src=r.children[i],"SOURCE"!==src.nodeName||"probably"!=r.canPlayType(src.type)&&"maybe"!=r.canPlayType(src.type)||o.addSourceButton(src.src,src.title,src.type,r.src==src.src)},addSourceButton:function(o,s,c,r){var t=this;(""===s||void 0==s)&&(s=o),c=c.split("/")[1],t.sourcechooserButton.find("ul").append(e('<li><input type="radio" name="'+t.id+'_sourcechooser" id="'+t.id+"_sourcechooser_"+s+c+'" value="'+o+'" '+(r?'checked="checked"':"")+' /><label for="'+t.id+"_sourcechooser_"+s+c+'">'+s+" ("+c+")</label></li>")),t.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var e=this;e.sourcechooserButton.find(".mejs-sourcechooser-selector").height(e.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(!0))}})}(mejs.$);