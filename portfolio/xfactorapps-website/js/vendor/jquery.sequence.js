/*
Sequence.js (http://www.sequencejs.com)
Version: 1.0.1.1
Author: Ian Lunn @IanLunn
Author URL: http://www.ianlunn.co.uk/
Github: https://github.com/IanLunn/Sequence

This is a FREE script and is available under a MIT License:
http://www.opensource.org/licenses/mit-license.php

Sequence.js and its dependencies are (c) Ian Lunn Design 2012 - 2013 unless otherwise stated.

Sequence also relies on the following open source scripts:

- jQuery imagesLoaded 2.1.0 (http://github.com/desandro/imagesloaded)
    Paul Irish et al
    Available under a MIT License: http://www.opensource.org/licenses/mit-license.php

- jQuery TouchWipe 1.1.1 (http://www.netcu.de/jquery-touchwipe-iphone-ipad-library)
    Andreas Waltl, netCU Internetagentur (http://www.netcu.de)
    Available under a MIT License: http://www.opensource.org/licenses/mit-license.php

- Modernizr 2.6.1 Custom Build (http://modernizr.com/) (Named Modernizr for Sequence to prevent conflicts)
    Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
    Available under the BSD and MIT licenses: www.modernizr.com/license/
    */
!function(e){function n(n,i,a){function s(){c.afterLoaded(),c.settings.hideFramesUntilPreloaded&&void 0!==c.settings.preloader&&c.settings.preloader!==!1&&c.frames.show(),void 0!==c.settings.preloader&&c.settings.preloader!==!1?c.settings.hidePreloaderUsingCSS&&c.transitionsSupported?(c.prependPreloadingCompleteTo=c.settings.prependPreloadingComplete===!0?c.settings.preloader:e(c.settings.prependPreloadingComplete),c.prependPreloadingCompleteTo.addClass("preloading-complete"),setTimeout(u,c.settings.hidePreloaderDelay)):c.settings.preloader.fadeOut(c.settings.hidePreloaderDelay,function(){clearInterval(c.defaultPreloader),u()}):u()}function r(n,t){var i=[];if(t)for(var a=n;a>0;a--)i.push(e("body").find('img[src="'+c.settings.preloadTheseImages[a-1]+'"]'));else for(var s=n;s>0;s--)c.frames.eq(c.settings.preloadTheseFrames[s-1]-1).find("img").each(function(){i.push(e(this)[0])});return i}function o(n,t){function i(){var n=e(l),i=e(m);o&&(m.length?o.reject(c,n,i):o.resolve(c)),e.isFunction(t)&&t.call(r,c,n,i)}function a(n,t){n.src!==s&&-1===e.inArray(n,d)&&(d.push(n),t?m.push(n):l.push(n),e.data(n,"imagesLoaded",{isBroken:t,src:n.src}),u&&o.notifyWith(e(n),[t,c,e(l),e(m)]),c.length===d.length&&(setTimeout(i),c.unbind(".imagesLoaded")))}var s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r=n,o=e.isFunction(e.Deferred)?e.Deferred():0,u=e.isFunction(o.notify),c=r.find("img").add(r.filter("img")),d=[],l=[],m=[];e.isPlainObject(t)&&e.each(t,function(e,n){"callback"===e?t=n:o&&o[e](n)}),c.length?c.bind("load.imagesLoaded error.imagesLoaded",function(e){a(e.target,"error"===e.type)}).each(function(n,t){var i=t.src,r=e.data(t,"imagesLoaded");return r&&r.src===i?(a(t,r.isBroken),void 0):t.complete&&void 0!==t.naturalWidth?(a(t,0===t.naturalWidth||0===t.naturalHeight),void 0):((t.readyState||t.complete)&&(t.src=s,t.src=i),void 0)}):i()}function u(){function n(e,n){var t,i;for(i in n)t="left"===i||"right"===i?s[i]:i,e===parseFloat(t)&&c._initCustomKeyEvent(n[i])}function t(){c.canvas.on("touchmove.sequence",i),r=null,u=!1}function i(e){if(c.settings.swipePreventsDefault&&e.preventDefault(),u){var n=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY,a=r-n,s=o-i;Math.abs(a)>=c.settings.swipeThreshold?(t(),a>0?c._initCustomKeyEvent(c.settings.swipeEvents.left):c._initCustomKeyEvent(c.settings.swipeEvents.right)):Math.abs(s)>=c.settings.swipeThreshold&&(t(),s>0?c._initCustomKeyEvent(c.settings.swipeEvents.down):c._initCustomKeyEvent(c.settings.swipeEvents.up))}}function a(e){1===e.originalEvent.touches.length&&(r=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY,u=!0,c.canvas.on("touchmove.sequence",i))}if(e(c.settings.preloader).remove(),c.nextButton=c._renderUiElements(c.settings.nextButton,".sequence-next"),c.prevButton=c._renderUiElements(c.settings.prevButton,".sequence-prev"),c.pauseButton=c._renderUiElements(c.settings.pauseButton,".sequence-pause"),c.pagination=c._renderUiElements(c.settings.pagination,".sequence-pagination"),void 0!==c.nextButton&&c.nextButton!==!1&&c.settings.showNextButtonOnInit===!0&&c.nextButton.show(),void 0!==c.prevButton&&c.prevButton!==!1&&c.settings.showPrevButtonOnInit===!0&&c.prevButton.show(),void 0!==c.pauseButton&&c.pauseButton!==!1&&c.settings.showPauseButtonOnInit===!0&&c.pauseButton.show(),c.settings.pauseIcon!==!1?(c.pauseIcon=c._renderUiElements(c.settings.pauseIcon,".sequence-pause-icon"),void 0!==c.pauseIcon&&c.pauseIcon.hide()):c.pauseIcon=void 0,void 0!==c.pagination&&c.pagination!==!1&&(c.paginationLinks=c.pagination.children(),c.paginationLinks.on("click.sequence",function(){var n=e(this).index()+1;c.goTo(n)}),c.settings.showPaginationOnInit===!0&&c.pagination.show()),c.nextFrameID=c.settings.startingFrameID,c.settings.hashTags===!0&&(c.frames.each(function(){c.frameHashID.push(e(this).prop(c.getHashTagFrom))}),c.currentHashTag=location.hash.replace("#",""),void 0===c.currentHashTag||""===c.currentHashTag?c.nextFrameID=c.settings.startingFrameID:(c.frameHashIndex=e.inArray(c.currentHashTag,c.frameHashID),c.nextFrameID=-1!==c.frameHashIndex?c.frameHashIndex+1:c.settings.startingFrameID)),c.nextFrame=c.frames.eq(c.nextFrameID-1),c.nextFrameChildren=c.nextFrame.children(),void 0!==c.pagination&&e(c.paginationLinks[c.settings.startingFrameID-1]).addClass("current"),c.transitionsSupported?c.settings.animateStartingFrameIn?c.settings.reverseAnimationsWhenNavigatingBackwards&&c.settings.autoPlayDirection-1&&c.settings.animateStartingFrameIn?(c._resetElements(c.transitionPrefix,c.nextFrameChildren,"0s"),c.nextFrame.addClass("animate-out"),c.goTo(c.nextFrameID,-1,!0)):c.goTo(c.nextFrameID,1,!0):(c.currentFrameID=c.nextFrameID,c.settings.moveActiveFrameToTop&&c.nextFrame.css("z-index",c.numberOfFrames),c._resetElements(c.transitionPrefix,c.nextFrameChildren,"0s"),c.nextFrame.addClass("animate-in"),c.settings.hashTags&&c.settings.hashChangesOnFirstFrame&&(c.currentHashTag=c.nextFrame.prop(c.getHashTagFrom),document.location.hash="#"+c.currentHashTag),setTimeout(function(){c._resetElements(c.transitionPrefix,c.nextFrameChildren,"")},100),c._resetAutoPlay(!0,c.settings.autoPlayDelay)):(c.container.addClass("sequence-fallback"),c.currentFrameID=c.nextFrameID,c.settings.hashTags&&c.settings.hashChangesOnFirstFrame&&(c.currentHashTag=c.nextFrame.prop(c.getHashTagFrom),document.location.hash="#"+c.currentHashTag),c.frames.addClass("animate-in"),c.frames.not(":eq("+(c.nextFrameID-1)+")").css({display:"none",opacity:0}),c._resetAutoPlay(!0,c.settings.autoPlayDelay)),void 0!==c.nextButton&&c.nextButton.bind("click.sequence",function(){c.next()}),void 0!==c.prevButton&&c.prevButton.bind("click.sequence",function(){c.prev()}),void 0!==c.pauseButton&&c.pauseButton.bind("click.sequence",function(){c.pause(!0)}),c.settings.keyNavigation){var s={left:37,right:39};e(document).bind("keydown.sequence",function(e){var t=String.fromCharCode(e.keyCode);t>0&&t<=c.numberOfFrames&&c.settings.numericKeysGoToFrames&&(c.nextFrameID=t,c.goTo(c.nextFrameID)),n(e.keyCode,c.settings.keyEvents),n(e.keyCode,c.settings.customKeyEvents)})}if(c.canvas.on({"mouseenter.sequence":function(){c.settings.pauseOnHover&&c.settings.autoPlay&&!c.hasTouch&&(c.isBeingHoveredOver=!0,c.isHardPaused||c.pause())},"mouseleave.sequence":function(){c.settings.pauseOnHover&&c.settings.autoPlay&&!c.hasTouch&&(c.isBeingHoveredOver=!1,c.isHardPaused||c.unpause())}}),c.settings.hashTags&&e(window).bind("hashchange.sequence",function(){var n=location.hash.replace("#","");c.currentHashTag!==n&&(c.currentHashTag=n,c.frameHashIndex=e.inArray(c.currentHashTag,c.frameHashID),-1!==c.frameHashIndex&&(c.nextFrameID=c.frameHashIndex+1,c.goTo(c.nextFrameID)))}),c.settings.swipeNavigation&&c.hasTouch){var r,o,u=!1;c.canvas.on("touchstart.sequence",a)}}var c=this;c.container=e(n),c.canvas=c.container.children(".sequence-canvas"),c.frames=c.canvas.children("li"),c._modernizrForSequence();var d={WebkitTransition:"-webkit-",WebkitAnimation:"-webkit-",MozTransition:"-moz-","MozAnimation ":"-moz-",OTransition:"-o-",OAnimation:"-o-",msTransition:"-ms-",msAnimation:"-ms-",transition:"",animation:""},l={WebkitTransition:"webkitTransitionEnd.sequence",WebkitAnimation:"webkitAnimationEnd.sequence",MozTransition:"transitionend.sequence",MozAnimation:"animationend.sequence",OTransition:"otransitionend.sequence",OAnimation:"oanimationend.sequence",msTransition:"MSTransitionEnd.sequence",msAnimation:"MSAnimationEnd.sequence",transition:"transitionend.sequence",animation:"animationend.sequence"};c.transitionPrefix=d[ModernizrForSequence.prefixed("transition")],c.animationPrefix=d[ModernizrForSequence.prefixed("animation")],c.transitionProperties={},c.transitionEnd=l[ModernizrForSequence.prefixed("transition")]+" "+l[ModernizrForSequence.prefixed("animation")],c.numberOfFrames=c.frames.length,c.transitionsSupported=void 0!==c.transitionPrefix?!0:!1,c.hasTouch="ontouchstart"in window?!0:!1,c.isPaused=!1,c.isBeingHoveredOver=!1,c.container.removeClass("sequence-destroyed"),c.paused=function(){},c.unpaused=function(){},c.beforeNextFrameAnimatesIn=function(){},c.afterNextFrameAnimatesIn=function(){},c.beforeCurrentFrameAnimatesOut=function(){},c.afterCurrentFrameAnimatesOut=function(){},c.afterLoaded=function(){},c.destroyed=function(){},c.settings=e.extend({},a,i),c.settings.preloader=c._renderUiElements(c.settings.preloader,".sequence-preloader"),c.isStartingFrame=c.settings.animateStartingFrameIn?!0:!1,c.settings.unpauseDelay=null===c.settings.unpauseDelay?c.settings.autoPlayDelay:c.settings.unpauseDelay,c.getHashTagFrom=c.settings.hashDataAttribute?"data-sequence-hashtag":"id",c.frameHashID=[],c.direction=c.settings.autoPlayDirection,c.settings.hideFramesUntilPreloaded&&void 0!==c.settings.preloader&&c.settings.preloader!==!1&&c.frames.hide(),"-o-"===c.transitionPrefix&&(c.transitionsSupported=c._operaTest()),c.frames.removeClass("animate-in");var m=c.settings.preloadTheseFrames.length,p=c.settings.preloadTheseImages.length;if(c.settings.windowLoaded===!0&&(t=c.settings.windowLoaded),void 0===c.settings.preloader||c.settings.preloader===!1||0===m&&0===p)t===!0?(s(),e(this).unbind("load.sequence")):e(window).bind("load.sequence",function(){s(),e(this).unbind("load.sequence")});else{var g=r(m),h=r(p,!0),f=e(g.concat(h));o(f,s)}}var t=!1;e(window).bind("load",function(){t=!0}),n.prototype={startAutoPlay:function(e){var n=this;e=void 0===e?n.settings.autoPlayDelay:e,n.unpause(),n._resetAutoPlay(),n.autoPlayTimer=setTimeout(function(){1===n.settings.autoPlayDirection?n.next():n.prev()},e)},stopAutoPlay:function(){var e=this;e.pause(!0),clearTimeout(e.autoPlayTimer)},pause:function(e){var n=this;n.isSoftPaused?n.unpause():(void 0!==n.pauseButton&&(n.pauseButton.addClass("paused"),void 0!==n.pauseIcon&&n.pauseIcon.show()),n.paused(),n.isSoftPaused=!0,n.isHardPaused=e?!0:!1,n.isPaused=!0,n._resetAutoPlay())},unpause:function(e){var n=this;void 0!==n.pauseButton&&(n.pauseButton.removeClass("paused"),void 0!==n.pauseIcon&&n.pauseIcon.hide()),n.isSoftPaused=!1,n.isHardPaused=!1,n.isPaused=!1,n.active?n.delayUnpause=!0:(e!==!1&&n.unpaused(),n._resetAutoPlay(!0,n.settings.unpauseDelay))},next:function(){var e=this;id=e.currentFrameID!==e.numberOfFrames?e.currentFrameID+1:1,e.active===!1||void 0===e.active?e.goTo(id,1):e.goTo(id,1,!0)},prev:function(){var e=this;id=1===e.currentFrameID?e.numberOfFrames:e.currentFrameID-1,e.active===!1||void 0===e.active?e.goTo(id,-1):e.goTo(id,-1,!0)},goTo:function(n,t,i){function a(){s._setHashTag(),s.active=!1,s._resetAutoPlay(!0,s.settings.autoPlayDelay)}var s=this;s.nextFrameID=parseFloat(n);var r=i===!0?0:s.settings.transitionThreshold;if(s.nextFrameID===s.currentFrameID||s.settings.navigationSkip&&s.navigationSkipThresholdActive||!s.settings.navigationSkip&&s.active||!s.transitionsSupported&&s.active||!s.settings.cycle&&1===t&&s.currentFrameID===s.numberOfFrames||!s.settings.cycle&&-1===t&&1===s.currentFrameID||s.settings.preventReverseSkipping&&s.direction!==t&&s.active)return!1;if(s.settings.navigationSkip&&s.active&&(s.navigationSkipThresholdActive=!0,s.settings.fadeFrameWhenSkipped&&s.nextFrame.stop().animate({opacity:0},s.settings.fadeFrameTime),clearTimeout(s.transitionThresholdTimer),setTimeout(function(){s.navigationSkipThresholdActive=!1},s.settings.navigationSkipThreshold)),!s.active||s.settings.navigationSkip){if(s.active=!0,s._resetAutoPlay(),s.direction=void 0===t?s.nextFrameID>s.currentFrameID?1:-1:t,s.currentFrame=s.canvas.children(".animate-in"),s.nextFrame=s.frames.eq(s.nextFrameID-1),s.currentFrameChildren=s.currentFrame.children(),s.nextFrameChildren=s.nextFrame.children(),void 0!==s.pagination&&(s.paginationLinks.removeClass("current"),e(s.paginationLinks[s.nextFrameID-1]).addClass("current")),s.transitionsSupported)void 0!==s.currentFrame.length?(s.beforeCurrentFrameAnimatesOut(),s.settings.moveActiveFrameToTop&&s.currentFrame.css("z-index",1),s._resetElements(s.transitionPrefix,s.nextFrameChildren,"0s"),s.settings.reverseAnimationsWhenNavigatingBackwards&&1!==s.direction?s.settings.reverseAnimationsWhenNavigatingBackwards&&-1===s.direction&&(s.nextFrame.addClass("animate-out"),s._reverseTransitionProperties()):(s.nextFrame.removeClass("animate-out"),s._resetElements(s.transitionPrefix,s.currentFrameChildren,""))):s.isStartingFrame=!1,s.active=!0,s.currentFrame.unbind(s.transitionEnd),s.nextFrame.unbind(s.transitionEnd),s.settings.fadeFrameWhenSkipped&&s.settings.navigationSkip&&s.nextFrame.css("opacity",1),s.beforeNextFrameAnimatesIn(),s.settings.moveActiveFrameToTop&&s.nextFrame.css("z-index",s.numberOfFrames),s.settings.reverseAnimationsWhenNavigatingBackwards&&1!==s.direction?s.settings.reverseAnimationsWhenNavigatingBackwards&&-1===s.direction&&(setTimeout(function(){s._resetElements(s.transitionPrefix,s.currentFrameChildren,""),s._resetElements(s.transitionPrefix,s.nextFrameChildren,""),s._reverseTransitionProperties(),s._waitForAnimationsToComplete(s.nextFrame,s.nextFrameChildren,"in"),("function () {}"!==s.afterCurrentFrameAnimatesOut||s.settings.transitionThreshold===!0&&i!==!0)&&s._waitForAnimationsToComplete(s.currentFrame,s.currentFrameChildren,"out",!0,-1)},50),setTimeout(function(){s.settings.transitionThreshold===!1||0===s.settings.transitionThreshold||i===!0?(s.currentFrame.removeClass("animate-in"),s.nextFrame.toggleClass("animate-out animate-in")):(s.currentFrame.removeClass("animate-in"),s.settings.transitionThreshold!==!0&&(s.transitionThresholdTimer=setTimeout(function(){s.nextFrame.toggleClass("animate-out animate-in")},r)))},50)):(setTimeout(function(){s._resetElements(s.transitionPrefix,s.nextFrameChildren,""),s._waitForAnimationsToComplete(s.nextFrame,s.nextFrameChildren,"in"),("function () {}"!==s.afterCurrentFrameAnimatesOut||s.settings.transitionThreshold===!0&&i!==!0)&&s._waitForAnimationsToComplete(s.currentFrame,s.currentFrameChildren,"out",!0,1)},50),setTimeout(function(){s.settings.transitionThreshold===!1||0===s.settings.transitionThreshold||i===!0?(s.currentFrame.toggleClass("animate-out animate-in"),s.nextFrame.addClass("animate-in")):(s.currentFrame.toggleClass("animate-out animate-in"),s.settings.transitionThreshold!==!0&&(s.transitionThresholdTimer=setTimeout(function(){s.nextFrame.addClass("animate-in")},r)))},50));else switch(s.settings.fallback.theme){case"fade":s.frames.css({position:"relative"}),s.beforeCurrentFrameAnimatesOut(),s.currentFrame=s.frames.eq(s.currentFrameID-1),s.currentFrame.animate({opacity:0},s.settings.fallback.speed,function(){s.currentFrame.css({display:"none","z-index":"1"}),s.afterCurrentFrameAnimatesOut(),s.beforeNextFrameAnimatesIn(),s.nextFrame.css({display:"block","z-index":s.numberOfFrames}).animate({opacity:1},500,function(){s.afterNextFrameAnimatesIn()}),a()}),s.frames.css({position:"relative"});break;case"slide":default:var o={},u={},c={};1===s.direction?(o.left="-100%",u.left="100%"):(o.left="100%",u.left="-100%"),c.left="0",c.opacity=1,s.currentFrame=s.frames.eq(s.currentFrameID-1),s.beforeCurrentFrameAnimatesOut(),s.currentFrame.animate(o,s.settings.fallback.speed,function(){s.currentFrame.css({display:"none","z-index":"1"}),s.afterCurrentFrameAnimatesOut()}),s.beforeNextFrameAnimatesIn(),s.nextFrame.show().css(u),s.nextFrame.css({display:"block","z-index":s.numberOfFrames}).animate(c,s.settings.fallback.speed,function(){a(),s.afterNextFrameAnimatesIn()})}s.currentFrameID=s.nextFrameID}},destroy:function(n){var t=this;t.container.addClass("sequence-destroyed"),void 0!==t.nextButton&&t.nextButton.unbind("click.sequence"),void 0!==t.prevButton&&t.prevButton.unbind("click.sequence"),void 0!==t.pauseButton&&t.pauseButton.unbind("click.sequence"),void 0!==t.pagination&&t.paginationLinks.unbind("click.sequence"),e(document).unbind("keydown.sequence"),t.canvas.unbind("mouseenter.sequence, mouseleave.sequence, touchstart.sequence, touchmove.sequence"),e(window).unbind("hashchange.sequence"),t.stopAutoPlay(),clearTimeout(t.transitionThresholdTimer),t.canvas.children("li").remove(),t.canvas.prepend(t.frames),t.frames.removeClass("animate-in animate-out").removeAttr("style"),t.frames.eq(t.currentFrameID-1).addClass("animate-in"),void 0!==t.nextButton&&t.nextButton!==!1&&t.nextButton.hide(),void 0!==t.prevButton&&t.prevButton!==!1&&t.prevButton.hide(),void 0!==t.pauseButton&&t.pauseButton!==!1&&t.pauseButton.hide(),void 0!==t.pauseIcon&&t.pauseIcon!==!1&&t.pauseIcon.hide(),void 0!==t.pagination&&t.pagination!==!1&&t.pagination.hide(),void 0!==n&&n(),t.destroyed(),t.container.removeData()},_initCustomKeyEvent:function(e){var n=this;switch(e){case"next":n.next();break;case"prev":n.prev();break;case"pause":n.pause(!0)}},_resetElements:function(e,n,t){var i=this;n.css(i._prefixCSS(e,{"transition-duration":t,"transition-delay":t,"transition-timing-function":""}))},_reverseTransitionProperties:function(){var n=this,t=[],i=[];n.currentFrameChildren.each(function(){t.push(parseFloat(e(this).css(n.transitionPrefix+"transition-duration").replace("s",""))+parseFloat(e(this).css(n.transitionPrefix+"transition-delay").replace("s","")))}),n.nextFrameChildren.each(function(){i.push(parseFloat(e(this).css(n.transitionPrefix+"transition-duration").replace("s",""))+parseFloat(e(this).css(n.transitionPrefix+"transition-delay").replace("s","")))});var a=Math.max.apply(Math,t),s=Math.max.apply(Math,i),r=a-s,o=0,u=0;0>r&&!n.settings.preventDelayWhenReversingAnimations?o=Math.abs(r):r>0&&(u=Math.abs(r));var c=function(t,i,a,s){function r(e){e=e.split(",")[0];var n={linear:"cubic-bezier(0.0,0.0,1.0,1.0)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0.0, 1.0, 1.0)","ease-in-out":"cubic-bezier(0.42, 0.0, 0.58, 1.0)","ease-out":"cubic-bezier(0.0, 0.0, 0.58, 1.0)"};return e.indexOf("cubic-bezier")<0&&(e=n[e]),e}i.each(function(){var i=parseFloat(e(this).css(n.transitionPrefix+"transition-duration").replace("s","")),o=parseFloat(e(this).css(n.transitionPrefix+"transition-delay").replace("s","")),u=e(this).css(n.transitionPrefix+"transition-timing-function");if(-1===u.indexOf("cubic"))var u=r(u);if(n.settings.reverseEaseWhenNavigatingBackwards){var c=u.replace("cubic-bezier(","").replace(")","").split(",");e.each(c,function(e,n){c[e]=parseFloat(n)});var d=[1-c[2],1-c[3],1-c[0],1-c[1]];u="cubic-bezier("+d+")"}var l=i+o;t["transition-duration"]=i+"s",t["transition-delay"]=a-l+s+"s",t["transition-timing-function"]=u,e(this).css(n._prefixCSS(n.transitionPrefix,t))})};c(n.transitionProperties,n.currentFrameChildren,a,o),c(n.transitionProperties,n.nextFrameChildren,s,u)},_prefixCSS:function(e,n){var t={};for(var i in n)t[e+i]=n[i];return t},_resetAutoPlay:function(e,n){var t=this;e===!0?t.settings.autoPlay&&!t.isSoftPaused&&(clearTimeout(t.autoPlayTimer),t.autoPlayTimer=setTimeout(function(){1===t.settings.autoPlayDirection?t.next():t.prev()},n)):clearTimeout(t.autoPlayTimer)},_renderUiElements:function(n,t){var i=this;switch(n){case!1:return void 0;case!0:return".sequence-preloader"===t&&i._defaultPreloader(i.container,i.transitionsSupported,i.animationPrefix),e(t,i.container);default:return e(n,i.container)}},_waitForAnimationsToComplete:function(n,t,i,a,s){var r=this;if("out"===i)var o=function(){r.afterCurrentFrameAnimatesOut(),r.settings.transitionThreshold===!0&&(1===s?r.nextFrame.addClass("animate-in"):-1===s&&r.nextFrame.toggleClass("animate-out animate-in"))};else if("in"===i)var o=function(){r.afterNextFrameAnimatesIn(),r._setHashTag(),r.active=!1,r.isHardPaused||r.isBeingHoveredOver||(r.delayUnpause?(r.delayUnpause=!1,r.unpause()):r.unpause(!1))};t.data("animationEnded",!1),n.bind(r.transitionEnd,function(i){e(i.target).data("animationEnded",!0);var a=!0;t.each(function(){return e(this).data("animationEnded")===!1?(a=!1,!1):void 0}),a&&(n.unbind(r.transitionEnd),o())})},_setHashTag:function(){var n=this;n.settings.hashTags&&(n.currentHashTag=n.nextFrame.prop(n.getHashTagFrom),n.frameHashIndex=e.inArray(n.currentHashTag,n.frameHashID),-1===n.frameHashIndex||!n.settings.hashChangesOnFirstFrame&&n.isStartingFrame&&n.transitionsSupported?(n.nextFrameID=n.settings.startingFrameID,n.isStartingFrame=!1):(n.nextFrameID=n.frameHashIndex+1,document.location.hash="#"+n.currentHashTag))},_modernizrForSequence:function(){window.ModernizrForSequence=function(e,n,t){function i(e){v.cssText=e}function a(e,n){return typeof e===n}function s(e,n){return!!~(""+e).indexOf(n)}function r(e,n){for(var i in e){var a=e[i];if(!s(a,"-")&&v[a]!==t)return"pfx"==n?a:!0}return!1}function o(e,n,i){for(var s in e){var r=n[e[s]];if(r!==t)return i===!1?e[s]:a(r,"function")?r.bind(i||n):r}return!1}function u(e,n,t){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+x.join(i+" ")+i).split(" ");return a(n,"string")||a(n,"undefined")?r(s,n):(s=(e+" "+y.join(i+" ")+i).split(" "),o(s,n,t))}var c,d,l,m="2.6.1",p={},g=n.documentElement,h="modernizrForSequence",f=n.createElement(h),v=f.style,F=({}.toString,"Webkit Moz O ms"),x=F.split(" "),y=F.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},P={},b=[],I=b.slice,C={}.hasOwnProperty;l=a(C,"undefined")||a(C.call,"undefined")?function(e,n){return n in e&&a(e.constructor.prototype[n],"undefined")}:function(e,n){return C.call(e,n)},Function.prototype.bind||(Function.prototype.bind=function(e){var n=self;if("function"!=typeof n)throw new TypeError;var t=I.call(arguments,1),i=function(){if(self instanceof i){var a=function(){};a.prototype=n.prototype;var s=new a,r=n.apply(s,t.concat(I.call(arguments)));return Object(r)===r?r:s}return n.apply(e,t.concat(I.call(arguments)))};return i}),P.svg=function(){return!!n.createElementNS&&!!n.createElementNS(T.svg,"svg").createSVGRect};for(var w in P)l(P,w)&&(d=w.toLowerCase(),p[d]=P[w](),b.push((p[d]?"":"no-")+d));return p.addTest=function(e,n){if("object"==typeof e)for(var i in e)l(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==t)return p;n="function"==typeof n?n():n,enableClasses&&(g.className+=" "+(n?"":"no-")+e),p[e]=n}return p},i(""),f=c=null,p._version=m,p._domPrefixes=y,p._cssomPrefixes=x,p.testProp=function(e){return r([e])},p.testAllProps=u,p.prefixed=function(e,n,t){return n?u(e,n,t):u(e,"pfx")},p}(self,self.document)},_defaultPreloader:function(n,t,i){var a='<div class="sequence-preloader"><svg class="preloading" xmlns="http://www.w3.org/2000/svg"><circle class="circle" cx="6" cy="6" r="6" /><circle class="circle" cx="22" cy="6" r="6" /><circle class="circle" cx="38" cy="6" r="6" /></svg></div>';e("head").append("<style>.sequence-preloader{height: 100%;position: absolute;width: 100%;z-index: 999999;}@"+i+"keyframes preload{0%{opacity: 1;}50%{opacity: 0;}100%{opacity: 1;}}.sequence-preloader .preloading .circle{fill: #ff9442;display: inline-block;height: 12px;position: relative;top: -50%;width: 12px;"+i+"animation: preload 1s infinite; animation: preload 1s infinite;}.preloading{display:block;height: 12px;margin: 0 auto;top: 50%;margin-top:-6px;position: relative;width: 48px;}.sequence-preloader .preloading .circle:nth-child(2){"+i+"animation-delay: .15s; animation-delay: .15s;}.sequence-preloader .preloading .circle:nth-child(3){"+i+"animation-delay: .3s; animation-delay: .3s;}.preloading-complete{opacity: 0;visibility: hidden;"+i+"transition-duration: 1s; transition-duration: 1s;}div.inline{background-color: #ff9442; margin-right: 4px; float: left;}</style>"),n.prepend(a),ModernizrForSequence.svg||t?t||setInterval(function(){e(".sequence-preloader").fadeToggle(500)},500):(e(".sequence-preloader").prepend('<div class="preloading"><div class="circle inline"></div><div class="circle inline"></div><div class="circle inline"></div></div>'),setInterval(function(){e(".sequence-preloader .circle").fadeToggle(500)},500))},_operaTest:function(){e("body").append('<span id="sequence-opera-test"></span>');var n=e("#sequence-opera-test");return n.css("-o-transition","1s"),"1s"!==n.css("-o-transition")?(n.remove(),!1):(n.remove(),!0)}};var i={startingFrameID:1,cycle:!0,animateStartingFrameIn:!1,transitionThreshold:!1,reverseAnimationsWhenNavigatingBackwards:!0,reverseEaseWhenNavigatingBackwards:!0,preventDelayWhenReversingAnimations:!1,moveActiveFrameToTop:!0,windowLoaded:!1,autoPlay:!1,autoPlayDirection:1,autoPlayDelay:5e3,navigationSkip:!0,navigationSkipThreshold:250,fadeFrameWhenSkipped:!0,fadeFrameTime:150,preventReverseSkipping:!1,nextButton:!1,showNextButtonOnInit:!0,prevButton:!1,showPrevButtonOnInit:!0,pauseButton:!1,unpauseDelay:null,pauseOnHover:!0,pauseIcon:!1,showPauseButtonOnInit:!0,pagination:!1,showPaginationOnInit:!0,preloader:!1,preloadTheseFrames:[1],preloadTheseImages:[],hideFramesUntilPreloaded:!0,prependPreloadingComplete:!0,hidePreloaderUsingCSS:!0,hidePreloaderDelay:0,keyNavigation:!0,numericKeysGoToFrames:!0,keyEvents:{left:"prev",right:"next"},customKeyEvents:{},swipeNavigation:!0,swipeThreshold:20,swipePreventsDefault:!1,swipeEvents:{left:"prev",right:"next",up:!1,down:!1},hashTags:!1,hashDataAttribute:!1,hashChangesOnFirstFrame:!1,fallback:{theme:"slide",speed:500}};e.fn.sequence=function(t){return this.each(function(){e.data(this,"sequence")||e.data(this,"sequence",new n(e(this),t,i))})}}(jQuery);